(this["webpackJsonptaqwa-prayer"]=this["webpackJsonptaqwa-prayer"]||[]).push([[9],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),r=n(0),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3,o=Object(r.useState)(localStorage&&localStorage.getItem(e)||t),c=Object(a.a)(o,2),u=c[0],i=c[1];return Object(r.useEffect)((function(){if(n>0){var a=setInterval((function(){localStorage&&localStorage.getItem(e)!==u?i(localStorage.getItem(e)||t):localStorage||console.log("localStorage API not available")}),n);return function(){return clearInterval(a)}}}),[u,e,n,t]),u}},13:function(e,t,n){"use strict";t.a={IQAAMAH_CURR_ENDPOINT:window.atob("aHR0cHM6Ly9hcnRpZmFjdHMudGFxd2EuenVoZC5vcmcvZGF0YS9jdXIuanNvbj8="),IQAAMAH_UPCOMING_ENDPOINT:window.atob("aHR0cHM6Ly9hcnRpZmFjdHMudGFxd2EuenVoZC5vcmcvZGF0YS91cGMuanNvbj8="),IQAAMAH_CURR_ENDPOINT_DEV:window.atob("aHR0cHM6Ly9hcnRpZmFjdHMudGFxd2EuenVoZC5vcmcvZGF0YS9jdXItZGV2Lmpzb24/"),IQAAMAH_UPCOMING_ENDPOINT_DEV:window.atob("aHR0cHM6Ly9hcnRpZmFjdHMudGFxd2EuenVoZC5vcmcvZGF0YS91cGMtZGV2Lmpzb24/"),SAVE_ENDPOINT_CURR:window.atob("aHR0cHM6Ly9mbi5maXJld2Via2l0LmNvbS96MnN6emNldHU5YzdpbXJ6ZmYwbHl0Ync2dzhoM2xjdS9zYXZlPw=="),SAVE_ENDPOINT_UPCOMING:window.atob("aHR0cHM6Ly9mbi5maXJld2Via2l0LmNvbS96MnN6emNldHU5YzdpbXJ6ZmYwbHl0Ync2dzhoM2xjdS9zYXZlP3VwY29taW5nPXRydWUm"),SAVE_ENDPOINT_CURR_DEV:window.atob("aHR0cHM6Ly9mbi5maXJld2Via2l0LmNvbS96MnN6emNldHU5YzdpbXJ6ZmYwbHl0Ync2dzhoM2xjdS9zYXZlP2Rldj10cnVlJg=="),SAVE_ENDPOINT_UPCOMING_DEV:window.atob("aHR0cHM6Ly9mbi5maXJld2Via2l0LmNvbS96MnN6emNldHU5YzdpbXJ6ZmYwbHl0Ync2dzhoM2xjdS9zYXZlP3VwY29taW5nPXRydWUmZGV2PXRydWUm"),AUTH_ENDPOINT:window.atob("aHR0cHM6Ly9mbi5maXJld2Via2l0LmNvbS96MnN6emNldHU5YzdpbXJ6ZmYwbHl0Ync2dzhoM2xjdS9hdXRo"),ADHAAN_ENDPOINT:window.atob("aHR0cHM6Ly9hcnRpZmFjdHMudGFxd2EuenVoZC5vcmcvZGF0YS9hZGhhYW4v"),CONFIG_CLOUD_DATA:window.atob("aHR0cHM6Ly9hcGkuZmlyZXdlYmtpdC5jb20vejJzenpjZXR1OWM3aW1yemZmMGx5dGJ3Nnc4aDNsY3UvZGF0YS9jb25maWc/"),WEATHER_CLOUD_DATA:window.atob("aHR0cHM6Ly9hcGkuZmlyZXdlYmtpdC5jb20vejJzenpjZXR1OWM3aW1yemZmMGx5dGJ3Nnc4aDNsY3UvZGF0YS93ZWF0aGVyPw=="),DUROOS_CLOUD_DATA:window.atob("aHR0cHM6Ly9hcGkuZmlyZXdlYmtpdC5jb20vejJzenpjZXR1OWM3aW1yemZmMGx5dGJ3Nnc4aDNsY3UvZGF0YS9kdXJvb3M/ZmlsdGVyPXslMjIkb3IlMjI6W3slMjJoaWRlJTIyOnslMjIkZXElMjI6ZmFsc2V9fSx7JTIyaGlkZSUyMjp7JTIyJGVxJTIyOm51bGx9fV19JnNvcnQ9eyUyMmRheSUyMjoxfSY="),ANNOUNCEMENTS_CLOUD_DATA:window.atob("aHR0cHM6Ly9hcGkuZmlyZXdlYmtpdC5jb20vejJzenpjZXR1OWM3aW1yemZmMGx5dGJ3Nnc4aDNsY3UvZGF0YS9hbm5vdW5jZW1lbnRzP2ZpbHRlcj17JTIyJG9yJTIyOlt7JTIyaGlkZSUyMjp7JTIyJGVxJTIyOmZhbHNlfX0seyUyMmhpZGUlMjI6eyUyMiRlcSUyMjpudWxsfX1dfSY=")}},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return l.withContext}));var a=n(15),r=n.n(a),o=n(18),c=n(1),u=n(0),i=n.n(u),l=n(14),d=n(2),m=n.n(d),f=n(37),s=n.n(f),b=n(13),h=n(5),j=n(17),O=n(11),v=["Ahad","Ithnin","Thulatha","Arbaa","Khams","Jumuah","Sabt"],p=["Muharram","Safar","Rabi'ul Awwal","Rabi'ul Akhir","Jumadal Ula","Jumadal Akhira","Rajab","Sha'ban","Ramadan","Shawwal","Dhul Qa'ada","Dhul Hijja"],M=function(e,t){return(e%t+t)%t};var w=function(e){var t=e.adjustment,n=e.theDate,a=e.showWeekday,r=e.showYear,o=function(e,t){var n=e;if(t){var a=864e5*t,r=n.getTime()+a;n=new Date(r)}var o=n.getDate(),c=n.getMonth(),u=n.getFullYear(),i=c+1,l=u;i<3&&(l-=1,i+=12);var d=Math.floor(l/100),m=2-d+Math.floor(d/4);l<1583&&(m=0),1582===l&&(i>10&&(m=-10),10===i&&(m=0,o>4&&(m=-10)));var f=Math.floor(365.25*(l+4716))+Math.floor(30.6001*(i+1))+o+m-1524;m=0,f>2299160&&(m=1+(d=Math.floor((f-1867216.25)/36524.25))-Math.floor(d/4));var s,b=f+m+1524,h=Math.floor((b-122.1)/365.25),j=Math.floor(365.25*h),O=Math.floor((b-j)/30.6001);o=b-j-Math.floor(30.6001*O),c=O-1,O>13&&(h+=1,c=O-13),u=h-4716,s=t?M(f+1-t,7)+1:M(f+1,7)+1;var v=f-1948084,p=Math.floor(v/10631);v-=10631*p;var w=Math.floor((v-.1335)/(10631/30)),y=30*p+w;v-=Math.floor(w*(10631/30)+.1335);var E=Math.floor((v+28.5001)/29.5);13===E&&(E=12);var N=v-Math.floor(29.5001*E-29),g=Array(8);return g[0]=o,g[1]=c-1,g[2]=u,g[3]=f-1,g[4]=s-1,g[5]=N,g[6]=E-1,g[7]=y,g}(n,t),u=Object(c.a)(o,8),i=u[4],l=u[5],d=u[6],m=u[7],f="";return a&&(f=v[i]+", "),f="".concat(f).concat(l," ").concat(p[d]),r&&(f="".concat(f," ").concat(m)),f};t.a=function(e){var t=e.children,n=Object(u.useState)(!1),a=Object(c.a)(n,2),d=a[0],f=a[1],v=Object(u.useState)(0),p=Object(c.a)(v,2),M=p[0],y=p[1],E=Object(u.useState)({maghrib_offset:4,shurooq_offset:15,hijri_adjust:0,jumuah_idle:30,other_idle:10,jumuah_close:30,other_close:15,info_page:{bg:""},meta:{name:"Masjid at-Taqwa",full_name:"Masjid at-Taqwa, Spence",embed_name:"Masjid at-Taqwa, Spence",logo:"https://taqwa.zuhd.org/isb.png?",email:"taqwabroadcaster@amrayn.com",phone:"0433456066"}}),N=Object(c.a)(E,2),g=N[0],S=N[1],I=Object(u.useState)(s.a.parse(window.location.search)),Y=Object(c.a)(I,1)[0],H=function(){var e=Object(u.useState)(1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(u.useState)(null),l=Object(c.a)(i,2),d=l[0],f=l[1],s=Object(u.useState)(null),v=Object(c.a)(s,2),p=v[0],M=v[1],w=Object(u.useState)(null),y=Object(c.a)(w,2),E=y[0],N=y[1],g=Object(u.useState)(null),S=Object(c.a)(g,2),I=S[0],Y=S[1],H=Object(u.useState)(null),_=Object(c.a)(H,2),A=_[0],Z=_[1],D=Object(u.useState)(null),T=Object(c.a)(D,2),G=T[0],R=T[1],P=Object(O.a)("_cbrk",3,2e3),U=Object(O.a)("dev",0,-1),x=Object(u.useState)(!1),C=Object(c.a)(x,2),J=C[0],k=C[1];Object(u.useEffect)((function(){var e=setInterval((function(){a((function(e){return e+1}))}),18e5);return function(){return clearInterval(e)}}),[]);var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=m()().add(e,"month"),n=t.format(h.a);return"".concat(b.a.ADHAAN_ENDPOINT).concat(n,".json?ar&")},X=function(e,t){var n="".concat(e?"IQAAMAH_UPCOMING_ENDPOINT":"IQAAMAH_CURR_ENDPOINT");return t&&(n="".concat(n,"_DEV")),b.a[n]};return Object(u.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n>0&&console.info("Remote fetch #%s at %s",n,m()().format("DD-MM-YYYY HH:mm:ss")),e.next=3,Object(j.a)({endpoint:X(!1,Number(U))+n+P});case 3:return e.t0=e.sent,e.next=6,Object(j.a)({endpoint:X(!0,Number(U))+n+P});case 6:return e.t1=e.sent,e.next=9,Object(j.a)({endpoint:z()+n+P});case 9:return e.t2=e.sent,e.next=12,Object(j.a)({endpoint:z(1)+n+P});case 12:e.t3=e.sent,t={currentTimes:e.t0,upcomingTimes:e.t1,adhaan:e.t2,adhaanNextMonth:e.t3},a=!1,t.currentTimes?M(t.currentTimes):a=!0,t.upcomingTimes?N(t.upcomingTimes):a=!0,t.adhaan?Y(t.adhaan):a=!0,t.adhaanNextMonth?Z(t.adhaanNextMonth):a=!0,R(a?"Could not connect to the internet":null),f(m()()),k(!0);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,P,U]),[p,E,I,A,n,d,G,J]}(),_=Object(c.a)(H,8),A=_[0],Z=_[1],D=_[2],T=_[3],G=_[4],R=_[5],P=_[6],U=_[7],x=Object(u.useState)(null),C=Object(c.a)(x,2),J=C[0],k=C[1],z=Object(u.useState)(w({adjustment:0,showWeekday:!1,showYear:!0,theDate:new Date})),X=Object(c.a)(z,2),L=X[0],V=X[1];Object(u.useEffect)((function(){if(Z&&Z.effective){var e=m()(Z.effective,h.e),t=m()().endOf("day");e.isSameOrBefore(t)?k(Z):k(A)}}),[A,Z]),Object(u.useEffect)((function(){d!==U&&f(U)}),[d,U]),Object(u.useEffect)((function(){console.debug("Querying remote config ..."),fetch(b.a.CONFIG_CLOUD_DATA+M).then((function(e){return e.json()})).then((function(e){return S(e)})).catch((function(e){console.error("Failed to update remote config")}))}),[M]),Object(u.useEffect)((function(){var e=setInterval((function(){y(Math.random())}),36e5);return function(){return clearInterval(e)}}),[]),Object(u.useEffect)((function(){var e=function(){console.debug("Updating hijri date ..."),V(w({adjustment:g.hijri_adjust||0,showWeekday:!1,showYear:!0,theDate:new Date}))};e();var t=window.setInterval((function(){return e}),3600);return function(){window.clearInterval(t)}}),[g]);return i.a.createElement(l.Provider,{value:{initPage:function(e,t){e(),window.setInterval((function(){e()}),1e3*t)},iqaamah:J,currentTimes:A,upcomingTimes:Z,adhaan:D,adhaanNextMonth:T,ready:d,q:Y,monitorMode:"undefined"!==typeof Y.monitor,meta:g.meta,version:"4.0.15",lastUpdated:R&&G>=2?R.format("DD MMM, YYYY [at] HH:mm"):null,fetchError:P,hijriDate:L,cfg:g}},t)}},17:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return v}));var a=n(15),r=n.n(a),o=n(18),c=n(19),u=n(2),i=n.n(u),l=n(9),d=n(5),m=function(e){var t=e.refTime,n=e.now,a=e.cfg,r=Math.floor(i.a.duration(t.diff(n)).asHours()),o=Math.floor(i.a.duration(t.diff(n)).asMinutes())+1,c=o-60*r;60===c&&(r++,c=0);var u="no time",d=l.a.UPCOMING;return u=r>1?"".concat(r," hours "):r>0?"".concat(r," hour "):"",c>0&&(u="".concat(u).concat(c," min"),c>1&&(u="".concat(u,"s"))),0===c&&0===r?(u="now",d=l.a.NOW):o<a.other_close&&(d=l.a.CLOSE),{type:d,remaining:u}},f=function(){return i()().format(d.b)},s=function(e){return"Friday"===(e||i()()).format("dddd")},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i()(e,d.f).add(t,"minutes").format(d.d)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i()(e,d.f).add(t,"minutes").format(d.f)},j=function(e){var t=e.day,n=e.adhaan,a=e.iqaamah,r=e.upcomingIqaamah,o=e.cfg,u=["fajr","dhuhr","asr","maghrib","ishaa"],j=n[f()],O=t||i()(),v=i()(r.effective,d.e),p=v.isSameOrBefore(O),M=Object(c.a)(Object(c.a)({},p?r:a),{},{maghrib:h(j.maghrib,o.maghrib_offset+10)}),w=null,y=l.a.UPCOMING,E=null,N=null;for(var g in u){if(w)break;var S=s()&&"dhuhr"===u[g],I=S?"jumuah":u[g],Y=M[I],H=i()(Y,d.f);if(H.isAfter(O)){S&&i.a.duration(H.diff(O)).asMinutes()<o.jumuah_close&&(y=l.a.CLOSE),E=h(Y),w=I;break}if(M[I]){if((H=i()(M[I],d.f)).isAfter(O)){y=l.a.CLOSE,w=I,E=h(M[I]);break}N={name:I,time:M[I]}}}var _=null;if(null!==w){var A=i()(E,d.f),Z=m({refTime:A,now:O,cfg:o});y=Z.type,_=Z.remaining}if(N){var D=i()(N.time,d.f);Math.floor(i.a.duration(O.diff(D)).asMinutes())<=(s()&&"jumuah"===N.name?o.jumuah_idle:o.other_idle)&&(y=l.a.NOW,w=N.name,E=N.time,_="now")}var T=!w;if(T){w="fajr",y=l.a.UPCOMING;var G=i()().add(1,"day");G.set({hour:23,minute:59,second:59});var R=v.isSameOrBefore(G);E=h((R?r:a)[w]);var P=i()(E,d.f),U=i()().add(1,"day");U.set({hour:P.get("hour"),minute:P.get("minute"),second:0});var x=m({refTime:U,now:O,cfg:o});y=x.type,_=x.remaining}return{name:w,type:y,remaining:_,time:b(E),isAfterIshaa:T}},O=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endpoint,a=t.fallback,o=void 0===a?null:a,e.next=3,fetch(n).then((function(e){return e.json()})).catch((function(){return o}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return e.push(e.shift()),e}},27:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(25),c=n.n(o);n(75);t.a=function(e){var t=e.label;return r.a.createElement("div",{className:"app__pending"},t&&r.a.createElement(c.a,{size:"100px",label:t}),!t&&r.a.createElement(c.a,{size:"100px",label:r.a.createElement("img",{src:"".concat("","/isb.png"),alt:"Loading ...",className:"app__icon"})}))}},32:function(e,t,n){"use strict";var a=n(1),r=n(0),o=n.n(r),c=n(14);n.d(t,"b",(function(){return c.withContext}));var u=n(11),i=n(13);t.a=function(e){var t=e.children,n=Object(r.useState)(!0),l=Object(a.a)(n,2),d=l[0],m=l[1],f=Object(r.useState)(null),s=Object(a.a)(f,2),b=s[0],h=s[1],j=Object(r.useState)(null),O=Object(a.a)(j,2),v=O[0],p=O[1],M=Object(u.a)("_tkey",!1,1500);Object(r.useEffect)((function(){p(M?window.atob(M):null),m(!1)}),[M]);return o.a.createElement(c.Provider,{value:{currentToken:v,signout:function(){return new Promise((function(e,t){window.localStorage.removeItem("_tkey")}))},signin:function(e,t){return new Promise((function(n,a){if(!e||!t)return a("Username and/or password not provided!");m(!0),fetch(i.a.AUTH_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uname:e,pwd:t})}).then((function(e){return e.json()})).then((function(e){e.error?(h(e.error),a()):e.tokenKey&&(window.localStorage.setItem("_tkey",window.btoa(e.tokenKey)),h(null),n()),m(!1)})).catch((function(e){a(e),m(!1)}))}))},statusPending:d,authError:b}},v&&o.a.createElement("div",{style:{textAlign:"right",color:"#777"}},"[Authenticated]"),t)}},44:function(e,t,n){e.exports=n(79)},5:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return i}));var a="D-MM-YYYY",r="MM-YYYY",o="HH:mm",c="h:mm a",u="YYYY-MM-DD",i="After Khutbah"},75:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(36),c=n.n(o),u=n(29),i=n(3),l=n(31),d=n(16),m=n(32),f=function(e){var t=e.children;return r.a.createElement(m.a,null,t)},s=n(27),b=n(1),h=Object(d.b)("fetchError")((function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)(e.fetchError),i=Object(b.a)(u,2),l=i[0],d=i[1];return Object(a.useEffect)((function(){e.fetchError!==l&&d(e.fetchError)}),[l,e.fetchError]),r.a.createElement(r.a.Fragment,null,l&&o&&r.a.createElement("div",{className:"App-error"},l,r.a.createElement("button",{className:"App-error-button",onClick:function(){c(!1)}},r.a.createElement("span",{role:"img","aria-label":"close"},"\u274c"))),l&&!o&&r.a.createElement("button",{className:"App-error-button",onClick:function(){c(!0)}},r.a.createElement("span",{role:"img","aria-label":"excl"},"\u2757")))})),j=n(11),O=(n(76),Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,116))}))),v=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,246))})),p=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,117))})),M=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,247))})),w=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,135))})),y=Object(a.lazy)((function(){return Promise.all([n.e(13),n.e(1)]).then(n.bind(null,250))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(11),n.e(3)]).then(n.bind(null,249))})),N=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,248))})),g=Object(d.b)("ready","currentTimes","upcomingTimes","meta","cfg")((function(e){return r.a.createElement(f,null,r.a.createElement(y,e))})),S=function(){var e=Object(j.a)("dev",0,-1);return r.a.createElement(d.a,null,r.a.createElement(l.MediaQueryProvider,null,r.a.createElement("div",{style:{backgroundColor:"red",border:"3px solid #700",color:"white",position:"absolute",left:0,top:0,padding:"10px",zIndex:"1000000",display:Number(e)?"inline-block":"none"}},"Dev Mode"),r.a.createElement(u.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.a,null)},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:O}),r.a.createElement(i.a,{path:"/embed",component:v}),r.a.createElement(i.a,{path:"/week",component:w}),r.a.createElement(i.a,{path:"/next",component:p}),r.a.createElement(i.a,{path:"/slide",component:M}),r.a.createElement(i.a,{path:"/edit",component:g}),r.a.createElement(i.a,{path:"/info",component:E}),r.a.createElement(i.a,{path:"*",component:N})))),r.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(78);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CLOSE:"close",NOW:"now",UPCOMING:"upcoming"}}},[[44,10,12]]]);