(this["webpackJsonptaqwa-prayer"]=this["webpackJsonptaqwa-prayer"]||[]).push([[3],{162:function(e,t,a){},163:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),i=a(31),l=a(92),o=a(2),s=a.n(o),m=a(161),d=a.n(m),u=a(16),f=a(13),g=(a(162),a(39)),_=a.n(g),E=a(41),h=a.n(E),b=(a(163),function(e){var t=Object(c.useState)(null),a=Object(n.a)(t,2),i=a[0],l=a[1],o=Object(c.useState)(Math.random()),s=Object(n.a)(o,2),m=s[0],d=s[1];return Object(c.useEffect)((function(){fetch(f.a.WEATHER_CLOUD_DATA+m).then((function(e){return e.json()})).then((function(e){e&&e.updated?l(e):console.error("Get weather function did not return correct data",e)})).catch((function(e){console.error("Error while fetching data information %s",e)}))}),[m]),Object(c.useEffect)((function(){var e=setInterval((function(){d(Math.random())}),3e5);return function(){return clearInterval(e)}}),[]),r.a.createElement("div",{className:_()("WeatherWidget",{"has-data":i})},!i&&r.a.createElement(h.a,{className:"WeatherWidget__spinner",color:"#444"}),i&&r.a.createElement("div",null,r.a.createElement("img",{src:i[e.loc].icon,alt:i.name,className:"WeatherWidget__icon"}),r.a.createElement("div",{className:"WeatherWidget__name"},i[e.loc].name),r.a.createElement("div",{className:"WeatherWidget__temp"},i[e.loc].temp),r.a.createElement("div",{className:"WeatherWidget__feeltemp"},"Feels like ",i[e.loc].feelsLike),!1))}),p=a(164),v=a.n(p),y=(a(167),Object(u.b)("hijriDate")((function(e){var t=Object(c.useState)(v()()),a=Object(n.a)(t,2),i=a[0],l=a[1];return Object(c.useEffect)((function(){var t=setInterval((function(){l(v()().tz(e.timezone))}));return function(){return clearInterval(t)}}),[e.timezone]),r.a.createElement("div",{className:"ClockWidget"},r.a.createElement("div",{className:"ClockWidget__name"},e.name),r.a.createElement("div",{className:"ClockWidget__time"},!e.noTime&&r.a.createElement("div",{className:"ClockWidget__min"},i.format("h:mm")),e.showSeconds&&r.a.createElement("div",{className:"ClockWidget__sec"},i.format("ss")),!e.noTime&&r.a.createElement("div",{className:"ClockWidget__ampm"},i.format("a"))),!e.noDate&&r.a.createElement("div",{className:"ClockWidget__date"},i.format("ddd, DD MMMM YYYY")),!e.noDate&&e.showHijriDate&&r.a.createElement("div",{className:"ClockWidget__hijridate"},e.hijriDate))}))),O=a(19),j=a(245),N=a(17),k=a(10),T=a.n(k),W=(a(168),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Daily"]),P=r.a.forwardRef((function(e,t){return r.a.createElement("div",{className:"WeeklyProgram",ref:t},e.cancelledThisWeek&&r.a.createElement("div",{className:"WeeklyProgram__cancelled-ribbon"},r.a.createElement("span",null,"Cancelled This Week")),r.a.createElement("div",{className:_()("WeeklyProgram__contents",{"is-cancelled":e.cancelledThisWeek,"is-next":e.isNext})},e.isNext&&r.a.createElement("div",{className:"WeeklyProgram__next"},"Next"),r.a.createElement("div",{className:"WeeklyProgram__series"},e.series),r.a.createElement("div",{className:"WeeklyProgram__day"},W[e.day-1]),r.a.createElement("div",{className:"WeeklyProgram__timing"},e.timing),e.deliveredBy&&r.a.createElement("div",{className:"WeeklyProgram__deliveredBy"},e.deliveredBy)))}));P.propTypes={day:T.a.number.isRequired,series:T.a.string.isRequired,deliveredBy:T.a.string,cancelledThisWeek:T.a.bool},P.defaultProps={deliveredBy:"",cancelledThisWeek:!1};var I=P,D=(a(169),function(e){var t=Object(c.useState)(e.data),a=Object(n.a)(t,2),i=a[0],l=a[1],o=Object(c.useState)(null),m=Object(n.a)(o,2),d=m[0],u=m[1],f=Object(c.useState)(null),g=Object(n.a)(f,2),E=g[0],b=g[1],p=Object(c.useState)(null),v=Object(n.a)(p,2),y=v[0],k=v[1],T=Object(c.useState)(e.hasEvents),W=Object(n.a)(T,2),P=W[0],D=W[1],A=Object(c.useRef)(),S=Object(c.useRef)();return Object(c.useEffect)((function(){D(e.hasEvents)}),[e.hasEvents]),Object(c.useEffect)((function(){l(e.data)}),[e.data]),Object(c.useEffect)((function(){if(i){for(var t=A.current.offsetHeight>220,a=i,n=s()().day(),c=function(e){var t=a.find((function(t){return t.day===e%7}));if(t&&!t.cancelledThisWeek)return b(t.day),"break"},r=n;r<=n+7;++r){if("break"===c(r))break}a.length>=3&&a.length<=6&&!e.media.mobile&&!e.media.tablet&&!t?u([].concat(Object(j.a)(a),Object(j.a)(a),Object(j.a)(a),Object(j.a)(a)).map((function(e,t){return Object(O.a)(Object(O.a)({},e),{},{key:"".concat(e.series,"-").concat(t)})}))):u(a)}}),[i,A,e.media]),Object(c.useEffect)((function(){var e=d;if(e&&e.length>1&&E)for(var t=e.length-1;e[0].day!==E||t-- >=-1;)e=Object(N.g)(e);k(e)}),[d,E]),Object(c.useEffect)((function(){if(!e.media.mobile){var t=Number(e.q.scroll),a=15e3;t&&t>1&&t<=30&&(a=1e3*t);var n=setInterval((function(){!A.current||!S.current||y.length<=2||(A.current.scrollBy({top:S.current.clientHeight+10,left:0,behavior:"smooth"}),A.current.scrollHeight-A.current.clientHeight===A.current.scrollTop&&A.current.scrollBy({top:-A.current.scrollHeight,left:0,behavior:"smooth"}))}),a);return function(){return clearInterval(n)}}}),[y,e.q,e.media]),r.a.createElement(c.Fragment,null,r.a.createElement("div",{ref:A,className:_()("WeeklyProgramList",{"has-events":P}),style:{fontFamily:e.cfg.info_page.fontFamily||"inherit"}},!y&&r.a.createElement(h.a,{className:"WeeklyProgramList__spinner",color:"#444"}),y&&r.a.createElement(c.Fragment,null,y.map((function(e){return r.a.createElement(I,{ref:S,key:e.key||e.series,day:e.day,timing:e.timing,series:e.series,deliveredBy:e.deliveredBy,cancelledThisWeek:e.cancelledThisWeek,isNext:e.day===E})})))),!1)});D.defaultProps={data:[]};var A=Object(u.b)("q","cfg")(Object(i.withMedia)(D)),S=a(96),M=a.n(S),C=a(170),w=a.n(C),Y=(a(242),function(e){return r.a.createElement("div",{className:_()("Announcement",{"is-30days":"Upcoming"===e.upcomingType,"is-7days":"Soon"===e.upcomingType,"is-today":"Today"===e.upcomingType,"is-tmw":"Tomorrow"===e.upcomingType})},r.a.createElement("div",{className:"Announcement__title"},e.title),e.upcomingType&&r.a.createElement("div",{className:_()("Announcement__upcoming",{"is-30days":"Upcoming"===e.upcomingType,"is-7days":"Soon"===e.upcomingType,"is-today":"Today"===e.upcomingType,"is-tmw":"Tomorrow"===e.upcomingType})},e.upcomingType),r.a.createElement("div",{className:"Announcement__description"},r.a.createElement(w.a,{source:e.description})),e.date&&r.a.createElement("div",{className:"Announcement__date"},e.date),(e.time||e.endTime)&&r.a.createElement("div",{className:"Announcement__time-container"},e.time&&r.a.createElement("div",{className:"Announcement__time"},e.time),e.endTime&&r.a.createElement("div",{className:"Announcement__endtime"},e.endTime)))});Y.defaultProps={description:""};var B=Y,x=(a(243),function(e){var t=Object(c.useState)(e.data),a=Object(n.a)(t,2),i=a[0],l=a[1],o=Object(c.useState)({}),m=Object(n.a)(o,2),d=m[0],u=m[1],f=Object(c.useState)(null),g=Object(n.a)(f,2),E=g[0],b=g[1];return Object(c.useEffect)((function(){if(l(e.data),e.data.length>0&&e.data[0].date){var t,a=s()(e.data[0].date).startOf("day").diff(s()().startOf("day"),"days");if(a<30)t=0===a?"Today":1===a?"Tomorrow":a<=7?"Soon":"Upcoming",u({title:e.data[0].title,type:t})}}),[e.data]),Object(c.useEffect)((function(){b(i.sort((function(e,t){return e.date&&t.date?s()(e.date).format("YYYYMMDD")-s()(t.date).format("YYYYMMDD"):0})).map((function(e){if(e.date){var t=s()(e.date);e.date=t.format("DD MMM YYYY"),e.hideTime||(e.time=t.format("h:mm a"))}return e.hideDate&&(e.date=null),e.hasEndDate&&e.endDate&&(e.endTime=s()(e.endDate).format("h:mm a")),e})))}),[i]),r.a.createElement("div",{className:_()("AnnouncementList",{"has-data":E})},!E&&r.a.createElement(h.a,{className:"AnnouncementList__spinner",color:"#444"}),E&&E.length>0&&r.a.createElement("h3",{className:"InfoPage__right-pane-title is-events-title",style:{backgroundColor:"".concat(e.cfg.info_page.eventsBgColor||"#409")}},r.a.createElement("span",{className:"InfoPage__right-pane-title-icon-container"},r.a.createElement(M.a,{size:"custom",className:"InfoPage__right-pane-title-icon"})),r.a.createElement("span",{className:"InfoPage__right-pane-title-text"},"Events / Announcements")),E&&r.a.createElement("div",{className:"AnnouncementList__contents"},E.map((function(e){return r.a.createElement(B,{key:e.title,title:e.title,description:e.description,date:e.date,time:e.time,endTime:e.endTime,upcomingType:d.title===e.title&&d.type})}))))});x.defaultProps={data:[]};var z=Object(u.b)("cfg")(x);t.default=Object(u.b)("meta","q","cfg")(Object(i.withMedia)((function(e){var t=Object(c.useState)([]),a=Object(n.a)(t,2),i=a[0],o=a[1],m=Object(c.useState)([]),u=Object(n.a)(m,2),g=u[0],_=u[1],E=Object(c.useState)(Math.random()),h=Object(n.a)(E,2),p=h[0],v=h[1];return Object(c.useEffect)((function(){if(e.cfg.info_page.bg&&!e.media.mobile)return document.getElementById("root").style.backgroundImage="url(".concat(e.cfg.info_page.bg,")"),function(){document.getElementById("root").style.backgroundImage="none"}}),[e.cfg,e.media]),Object(c.useEffect)((function(){fetch(f.a.ANNOUNCEMENTS_CLOUD_DATA+p).then((function(e){return e.json()})).then((function(e){_(e.filter((function(e){return!e.date||s()(e.date).isAfter(s()().startOf("day"))})))})).catch((function(e){console.error("Error while fetching data information %s",e)}))}),[p]),Object(c.useEffect)((function(){fetch(f.a.DUROOS_CLOUD_DATA+p).then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){console.error("Error while fetching data information %s",e)}))}),[p,e.media]),Object(c.useEffect)((function(){var e=setInterval((function(){v(Math.random())}),3e5);return function(){return clearInterval(e)}}),[]),r.a.createElement("div",{className:"App InfoPage ".concat(e.monitorMode?"is-monitor":""),style:{fontSize:(e.q.size||16)+"px",background:"rgba(0, 0, 0, ".concat(e.cfg.info_page.darkness||.7,")")}},r.a.createElement(l.a,{defer:!1},r.a.createElement("title",null,"Information \u2013 ",e.meta.name)),r.a.createElement("div",{className:"InfoPage__title"},r.a.createElement("img",{src:e.meta.logo,className:"InfoPage__title-img",alt:e.meta.name}),r.a.createElement("div",{className:"InfoPage__title-text",dangerouslySetInnerHTML:{__html:e.meta.full_name}})),r.a.createElement("div",{className:"InfoPage__contents"},!e.media.mobile&&!e.media.tablet&&r.a.createElement("div",{className:"InfoPage__left-pane"},r.a.createElement("div",{className:"InfoPage__left-pane-inner"},r.a.createElement(y,{timezone:"Australia/Canberra",noDate:!0,name:"Canberra"}),r.a.createElement(b,{loc:"cbr"}),r.a.createElement("div",{className:"InfoPage__left-sep"}),r.a.createElement(y,{timezone:"Australia/Canberra",noTime:!0,showHijriDate:!0}),r.a.createElement("div",{className:"InfoPage__left-sep"}),r.a.createElement(y,{timezone:"Etc/GMT-3",name:"Makkah",noDate:!0}),r.a.createElement(b,{loc:"makkah"}))),r.a.createElement("div",{className:"InfoPage__right-pane"},r.a.createElement("h3",{className:"InfoPage__right-pane-title",style:{backgroundColor:"".concat(e.cfg.info_page.programsBgColor||"#940")}},r.a.createElement("span",{className:"InfoPage__right-pane-title-icon-container"},r.a.createElement(d.a,{size:"custom",className:"InfoPage__right-pane-title-icon"})),r.a.createElement("span",{className:"InfoPage__right-pane-title-text"},"Weekly Programs")),r.a.createElement(A,{data:i,hasEvents:g.length>0}),r.a.createElement(z,{data:g}))),!1)})))}}]);