(this["webpackJsonptaqwa-prayer"]=this["webpackJsonptaqwa-prayer"]||[]).push([[3],{161:function(e,t,a){},162:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(29),l=a(31),m=a(92),s=a(16),o=(a(161),a(39)),d=a.n(o),u=a(2),f=a.n(u),E=a(41),_=a.n(E),h=a(13),v=(a(162),function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(r.useState)(Math.random()),m=Object(n.a)(l,2),s=m[0],o=m[1];return Object(r.useEffect)((function(){fetch(h.a.WEATHER_CLOUD_DATA+s).then((function(e){return e.json()})).then((function(e){e&&e.temp?i(e):console.error("Get weather function did not return correct data",e)})).catch((function(e){console.error("Error while fetching data information %s",e)}))}),[s]),Object(r.useEffect)((function(){var e=setInterval((function(){o(Math.random())}),2e4);return function(){return clearInterval(e)}}),[]),c.a.createElement("div",{className:d()("WeatherWidget",{"has-data":a})},!a&&c.a.createElement(_.a,{className:"WeatherWidget__spinner",color:"#444"}),a&&c.a.createElement("div",null,c.a.createElement("img",{src:a.icon,alt:a.name,className:"WeatherWidget__icon"}),c.a.createElement("div",{className:"WeatherWidget__name"},a.name),c.a.createElement("div",{className:"WeatherWidget__temp"},a.temp),c.a.createElement("div",{className:"WeatherWidget__feeltemp"},"Feels like ",a.feelsLike),c.a.createElement("div",{className:"WeatherWidget__updatedOn"},"Updated ",f()(Number(a.updated)).format("DD/MM/YYYY, HH:mm"))))}),g=a(163),p=a.n(g),y=(a(166),function(e){var t=Object(r.useState)(p()()),a=Object(n.a)(t,2),i=a[0],l=a[1];return Object(r.useEffect)((function(){var t=setInterval((function(){l(p()().tz(e.timezone))}));return function(){return clearInterval(t)}}),[e.timezone]),c.a.createElement("div",{className:"ClockWidget"},c.a.createElement("div",{className:"ClockWidget__name"},e.name),c.a.createElement("div",{className:"ClockWidget__time"},c.a.createElement("div",{className:"ClockWidget__min"},i.format("h:mm")),c.a.createElement("div",{className:"ClockWidget__sec"},i.format("ss")),c.a.createElement("div",{className:"ClockWidget__ampm"},i.format("a"))),c.a.createElement("div",{className:"ClockWidget__date"},i.format("ddd, d MMM")))}),b=a(19),N=a(244),O=a(17),j=a(10),T=a.n(j),W=(a(167),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),k=c.a.forwardRef((function(e,t){return c.a.createElement("div",{className:"WeeklyProgram",ref:t},e.cancelledThisWeek&&c.a.createElement("div",{className:"WeeklyProgram__cancelled-ribbon"},c.a.createElement("span",null,"Cancelled This Week")),c.a.createElement("div",{className:d()("WeeklyProgram__contents",{"is-cancelled":e.cancelledThisWeek,"is-next":e.isNext})},e.isNext&&c.a.createElement("div",{className:"WeeklyProgram__next"},"Next"),c.a.createElement("div",{className:"WeeklyProgram__series"},e.series),c.a.createElement("div",{className:"WeeklyProgram__chapter"},e.chapter),c.a.createElement("div",{className:"WeeklyProgram__day"},W[e.day-1]),c.a.createElement("div",{className:"WeeklyProgram__timing"},e.timing),e.deliveredBy&&c.a.createElement("div",{className:"WeeklyProgram__deliveredBy"},e.deliveredBy)))}));k.propTypes={day:T.a.number.isRequired,series:T.a.string.isRequired,chapter:T.a.string.isRequired,deliveredBy:T.a.string,cancelledThisWeek:T.a.bool},k.defaultProps={deliveredBy:"",cancelledThisWeek:!1};var P=k,M=(a(168),Object(s.b)("q")(Object(l.withMedia)((function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),i=a[0],l=a[1],m=Object(r.useState)(null),s=Object(n.a)(m,2),o=s[0],u=s[1],E=Object(r.useState)(Math.random()),v=Object(n.a)(E,2),g=v[0],p=v[1],y=Object(r.useState)(null),j=Object(n.a)(y,2),T=j[0],W=j[1],k=Object(r.useState)(e.hasEvents),M=Object(n.a)(k,2),I=M[0],A=M[1],D=Object(r.useRef)(),S=Object(r.useRef)();return Object(r.useEffect)((function(){A(e.hasEvents)}),[e.hasEvents]),Object(r.useEffect)((function(){fetch(h.a.DUROOS_CLOUD_DATA+g).then((function(e){return e.json()})).then((function(t){for(var a=t.filter((function(e){return!e.hide})).sort((function(e,t){return e.day-t.day})),n=f()().day(),r=function(e){var t=a.find((function(t){return t.day===e%7}));if(t&&!t.cancelledThisWeek)return u(t.day),"break"},c=n;c<=n+7;++c){if("break"===r(c))break}a.length>=3&&a.length<=6&&!e.media.mobile&&!e.media.tablet?l([].concat(Object(N.a)(a),Object(N.a)(a),Object(N.a)(a),Object(N.a)(a)).map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{key:"".concat(e.series,"-").concat(t)})}))):l(a)})).catch((function(e){console.error("Error while fetching data information %s",e)}))}),[g,e.media]),Object(r.useEffect)((function(){var e=setInterval((function(){p(Math.random())}),2e4);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){var e=i;if(e&&e.length>2&&o)for(;e[1].day!==o;)e=Object(O.g)(e);W(e)}),[i,o]),Object(r.useEffect)((function(){if(!e.media.mobile){var t=Number(e.q.scroll),a=5e3;t&&t>1&&t<=30&&(a=1e3*t);var n=setInterval((function(){!D.current||!S.current||T.length<=2||(D.current.scrollBy({top:S.current.clientHeight+10,left:0,behavior:"smooth"}),D.current.scrollHeight-D.current.clientHeight===D.current.scrollTop&&D.current.scrollBy({top:-D.current.scrollHeight,left:0,behavior:"smooth"}))}),a);return function(){return clearInterval(n)}}}),[T,e.q,e.media]),c.a.createElement(r.Fragment,null,c.a.createElement("div",{ref:D,className:d()("WeeklyProgramList",{"has-events":I})},!T&&c.a.createElement(_.a,{className:"WeeklyProgramList__spinner",color:"#444"}),T&&c.a.createElement(r.Fragment,null,T.map((function(e){return c.a.createElement(P,{ref:S,key:e.key||e.series,day:e.day,timing:e.timing,series:e.series,chapter:e.chapter,deliveredBy:e.deliveredBy,cancelledThisWeek:e.cancelledThisWeek,isNext:e.day===o})})))),!1)})))),I=a(169),A=a.n(I),D=(a(241),function(e){return c.a.createElement("div",{className:d()("Announcement",{"is-30days":"Upcoming"===e.upcomingType,"is-7days":"Soon"===e.upcomingType,"is-today":"Today"===e.upcomingType,"is-tmw":"Tomorrow"===e.upcomingType})},c.a.createElement("div",{className:"Announcement__title"},e.title),e.upcomingType&&c.a.createElement("div",{className:d()("Announcement__upcoming",{"is-30days":"Upcoming"===e.upcomingType,"is-7days":"Soon"===e.upcomingType,"is-today":"Today"===e.upcomingType,"is-tmw":"Tomorrow"===e.upcomingType})},e.upcomingType),c.a.createElement("div",{className:"Announcement__description"},c.a.createElement(A.a,{source:e.description})),e.date&&c.a.createElement("div",{className:"Announcement__date"},e.date),(e.time||e.endTime)&&c.a.createElement("div",{className:"Announcement__time-container"},e.time&&c.a.createElement("div",{className:"Announcement__time"},e.time),e.endTime&&c.a.createElement("div",{className:"Announcement__endtime"},e.endTime)))});D.defaultProps={description:""};var S=D,w=(a(242),function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),i=a[0],l=a[1],m=Object(r.useState)({}),s=Object(n.a)(m,2),o=s[0],u=s[1],E=Object(r.useState)(null),v=Object(n.a)(E,2),g=v[0],p=v[1],y=Object(r.useState)(Math.random()),b=Object(n.a)(y,2),N=b[0],O=b[1];return Object(r.useEffect)((function(){fetch(h.a.ANNOUNCEMENTS_CLOUD_DATA+N).then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return!e.hide&&(!e.date||f()(e.date).isAfter(f()().startOf("day")))})).sort((function(e,t){return e.date&&t.date?f()(e.date).format("YYYYMMDD")-f()(t.date).format("YYYYMMDD"):0})).map((function(e){if(e.date){var t=f()(e.date);e.date=t.format("DD MMM YYYY"),e.hideTime||(e.time=t.format("h:mm a"))}return e.hideDate&&(e.date=null),e.hasEndDate&&e.endDate&&(e.endTime=f()(e.endDate).format("h:mm a")),e}));if(a.length>0&&a[0].date){var n,r=f()(a[0].date).startOf("day").diff(f()().startOf("day"),"days");if(r<30)n=0===r?"Today":1===r?"Tomorrow":r<=7?"Soon":"Upcoming",u({title:a[0].title,type:n})}l(a),e.onLoad(a.length>0)})).catch((function(e){console.error("Error while fetching data information %s",e)}))}),[N,e]),Object(r.useEffect)((function(){var e=setInterval((function(){O(Math.random())}),2e4);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){p(i)}),[i]),c.a.createElement("div",{className:d()("AnnouncementList",{"has-data":g})},!g&&c.a.createElement(_.a,{className:"AnnouncementList__spinner",color:"#444"}),g&&g.length>0&&c.a.createElement("h3",{className:"InfoPage__right-pane-title"},"Events / Announcements"),g&&c.a.createElement("div",{className:"AnnouncementList__contents"},g.map((function(e){return c.a.createElement(S,{key:e.title,title:e.title,description:e.description,date:e.date,time:e.time,endTime:e.endTime,upcomingType:o.title===e.title&&o.type})}))))}),Y=function(){return c.a.createElement("div",{className:"InfoPage__left-sep"})};t.default=Object(s.b)("hijriDate","meta")(Object(l.withMedia)((function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),l=a[0],s=a[1];return c.a.createElement("div",{className:"App InfoPage ".concat(e.monitorMode?"is-monitor":"")},c.a.createElement(m.a,{defer:!1},c.a.createElement("title",null,"Information \u2013 ",e.meta.name)),c.a.createElement("div",{className:"InfoPage__title"},c.a.createElement("img",{src:e.meta.logo,className:"InfoPage__title-img",alt:e.meta.name}),c.a.createElement("div",{className:"InfoPage__title-text",dangerouslySetInnerHTML:{__html:e.meta.full_name}})),c.a.createElement("div",{className:"InfoPage__contents"},c.a.createElement("div",{className:"InfoPage__left-pane"},c.a.createElement("div",{className:"InfoPage__left-pane-inner"},c.a.createElement(v,null),c.a.createElement(Y,null),c.a.createElement("div",{className:"InfoPage__hijridate"},e.hijriDate),c.a.createElement(Y,null),c.a.createElement(y,{timezone:"Australia/Canberra",name:"Canberra"}),c.a.createElement(Y,null),c.a.createElement(y,{timezone:"Etc/GMT-3",name:"Makkah"}),c.a.createElement(Y,null))),c.a.createElement("div",{className:"InfoPage__right-pane"},c.a.createElement("h3",{className:"InfoPage__right-pane-title"},"Weekly Programs"),c.a.createElement(M,{hasEvents:l}),c.a.createElement(w,{onLoad:function(e){return s(e)}}))),c.a.createElement("div",{className:"InfoPage__foot"},c.a.createElement(i.b,{to:"/",className:"App-switch-link"},"View Prayer Times")))})))}}]);