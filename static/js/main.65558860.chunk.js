(this["webpackJsonptaqwa-prayer"]=this["webpackJsonptaqwa-prayer"]||[]).push([[8],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CLOSE:"close",NOW:"now",UPCOMING:"upcoming"}},15:function(e,t,n){"use strict";var a=n(14),r=n.n(a),c=n(20),o=n(3),i=n(0),u=n.n(i),l=n(10);n.d(t,"b",(function(){return l.withContext}));var s=n(2),f=n.n(s),m=n(41),d=n.n(m),h=n(28),b=n(6),p=n(16),O=n(17);t.a=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(o.a)(n,2),s=a[0],m=a[1],v=Object(i.useState)(d.a.parse(window.location.search)),E=Object(o.a)(v,1)[0],j=function(){var e=Object(i.useState)(1),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(i.useState)(null),l=Object(o.a)(u,2),s=l[0],m=l[1],d=Object(i.useState)(null),v=Object(o.a)(d,2),E=v[0],j=v[1],g=Object(i.useState)(null),w=Object(o.a)(g,2),N=w[0],y=w[1],M=Object(i.useState)(null),I=Object(o.a)(M,2),A=I[0],S=I[1],P=Object(i.useState)(null),_=Object(o.a)(P,2),D=_[0],T=_[1],z=Object(i.useState)(null),C=Object(o.a)(z,2),q=C[0],x=C[1],Y=Object(O.a)("cache-breaker5",3,2e3),U=Object(O.a)("dev",0,-1),k=Object(i.useState)(!1),H=Object(o.a)(k,2),V=H[0],R=H[1];Object(i.useEffect)((function(){var e=setInterval((function(){a((function(e){return e+1}))}),18e5);return function(){return clearInterval(e)}}),[]);var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=f()().add(e,"month"),n=t.format(b.a);return"".concat(h.a.ADHAAN_ENDPOINT).concat(n,".json?ar&")},L=function(e,t){var n="".concat(e?"IQAAMAH_UPCOMING_ENDPOINT":"IQAAMAH_CURR_ENDPOINT");return t&&(n="".concat(n,"_DEV")),h.a[n]};return Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n>0&&console.info("Remote fetch #%s at %s",n,f()().format("DD-MM-YYYY HH:mm:ss")),e.next=3,Object(p.a)({endpoint:L(!1,Number(U))+n+Y});case 3:return e.t0=e.sent,e.next=6,Object(p.a)({endpoint:L(!0,Number(U))+n+Y});case 6:return e.t1=e.sent,e.next=9,Object(p.a)({endpoint:G()+n+Y});case 9:return e.t2=e.sent,e.next=12,Object(p.a)({endpoint:G(1)+n+Y});case 12:e.t3=e.sent,t={currentTimes:e.t0,upcomingTimes:e.t1,adhaan:e.t2,adhaanNextMonth:e.t3},a=!1,t.currentTimes?j(t.currentTimes):a=!0,t.upcomingTimes?y(t.upcomingTimes):a=!0,t.adhaan?S(t.adhaan):a=!0,t.adhaanNextMonth?T(t.adhaanNextMonth):a=!0,x(a?"Could not connect to the internet":null),m(f()()),R(!0);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,Y,U]),[E,N,A,D,n,s,q,V]}(),g=Object(o.a)(j,8),w=g[0],N=g[1],y=g[2],M=g[3],I=g[4],A=g[5],S=g[6],P=g[7],_=Object(i.useState)(null),D=Object(o.a)(_,2),T=D[0],z=D[1];Object(i.useEffect)((function(){if(N&&N.effective){var e=f()(N.effective,b.e),t=f()().endOf("day");e.isSameOrBefore(t)?z(N):z(w)}}),[w,N]),Object(i.useEffect)((function(){s!==P&&m(P)}),[s,P]);return u.a.createElement(l.Provider,{value:{initPage:function(e,t){e(),window.setInterval((function(){e()}),1e3*t)},iqaamah:T,currentTimes:w,upcomingTimes:N,adhaan:y,adhaanNextMonth:M,ready:s,q:E,monitorMode:"undefined"!==typeof E.monitor,meta:b.g,version:"4.0.5",lastUpdated:A&&I>=2?A.format("DD MMM, YYYY [at] HH:mm"):null,fetchError:S}},t)}},16:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return O}));var a=n(14),r=n.n(a),c=n(20),o=n(22),i=n(2),u=n.n(i),l=n(11),s=n(6),f=function(e,t){var n=Math.floor(u.a.duration(e.diff(t)).asHours()),a=Math.floor(u.a.duration(e.diff(t)).asMinutes())+1,r=a-60*n;60===r&&(n++,r=0);var c="no time",o=l.a.UPCOMING;return c=n>1?"".concat(n," hours "):n>0?"".concat(n," hour "):"",r>0&&(c="".concat(c).concat(r," min"),r>1&&(c="".concat(c,"s"))),0===r&&0===n?(c="now",o=l.a.NOW):a<15&&(o=l.a.CLOSE),{type:o,remaining:c}},m=function(){return u()().format(s.b)},d=function(e){return"Friday"===(e||u()()).format("dddd")},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u()(e,s.h).add(t,"minutes").format(s.d)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u()(e,s.h).add(t,"minutes").format(s.h)},p=function(e){var t=e.day,n=e.adhaan,a=e.iqaamah,r=e.upcomingIqaamah,c=["fajr","dhuhr","asr","maghrib","ishaa"],i=n[m()],p=t||u()(),O=u()(r.effective,s.e),v=O.isSameOrBefore(p),E=Object(o.a)(Object(o.a)({},v?r:a),{},{maghrib:b(i.maghrib,s.f+10)}),j=null,g=l.a.UPCOMING,w=null,N=null;for(var y in c){if(j)break;var M=d()&&"dhuhr"===c[y],I=M?"jumuah":c[y],A=E[I],S=u()(A,s.h);if(S.isAfter(p)){M&&u.a.duration(S.diff(p)).asMinutes()<30&&(g=l.a.CLOSE),w=b(A),j=I;break}if(E[I]){if((S=u()(E[I],s.h)).isAfter(p)){g=l.a.CLOSE,j=I,w=b(E[I]);break}N={name:I,time:E[I]}}}var P=null;if(null!==j){var _=u()(w,s.h),D=f(_,p);g=D.type,P=D.remaining}if(N){var T=u()(N.time,s.h);Math.floor(u.a.duration(p.diff(T)).asMinutes())<=(d()&&"jumuah"===N.name?30:10)&&(g=l.a.NOW,j=N.name,w=N.time,P="now")}var z=!j;if(z){j="fajr",g=l.a.UPCOMING;var C=u()().add(1,"day");C.set({hour:23,minute:59,second:59});var q=O.isSameOrBefore(C);w=b((q?r:a)[j]);var x=u()(w,s.h),Y=u()().add(1,"day");Y.set({hour:x.get("hour"),minute:x.get("minute"),second:0});var U=f(Y,p);g=U.type,P=U.remaining}return{name:j,type:g,remaining:P,time:h(w),isAfterIshaa:z}},O=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endpoint,a=t.fallback,c=void 0===a?null:a,e.next=3,fetch(n).then((function(e){return e.json()})).catch((function(){return c}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(3),r=n(0),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3,c=Object(r.useState)(localStorage&&localStorage.getItem(e)||t),o=Object(a.a)(c,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){if(n>0){var a=setInterval((function(){localStorage&&localStorage.getItem(e)!==i?u(localStorage.getItem(e)||t):localStorage||console.log("localStorage API not available")}),n);return function(){return clearInterval(a)}}}),[i,e,n,t]),i}},21:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n.n(r),o=n(10);n.d(t,"b",(function(){return o.withContext}));var i=n(42),u=n.n(i),l=(n(76),n(78),{apiKey:window.atob("QUl6YVN5RFVXdUQ3d3c1MTc4S3ZTWG1BamhDaktxTWZ6MlZ4T000"),authDomain:"taqwa-prayer.firebaseapp.com",databaseURL:"https://taqwa-prayer.firebaseio.com",projectId:"taqwa-prayer",storageBucket:"taqwa-prayer.appspot.com",messagingSenderId:"768945538528",appId:"1:768945538528:web:dc0c5fc42d9fc21b505785",measurementId:"G-NQ3D49XVKF"});t.a=function(e){var t=e.children,n=Object(r.useState)(null),i=Object(a.a)(n,2),s=i[0],f=i[1];return Object(r.useEffect)((function(){f(u.a.initializeApp(l))}),[]),c.a.createElement(o.Provider,{value:{firebase:s}},t)}},28:function(e,t,n){"use strict";t.a={SAVE_ENDPOINT_CURR:"https://us-central1-taqwa-prayer.cloudfunctions.net/apiV1/api/v1/iqaamah?",SAVE_ENDPOINT_UPCOMING:"https://us-central1-taqwa-prayer.cloudfunctions.net/apiV1/api/v1/iqaamah?upcoming=true&",SAVE_ENDPOINT_CURR_DEV:"https://us-central1-taqwa-prayer.cloudfunctions.net/apiV1/api/v1/iqaamah?wetsand=true&",SAVE_ENDPOINT_UPCOMING_DEV:"https://us-central1-taqwa-prayer.cloudfunctions.net/apiV1/api/v1/iqaamah?wetsand=true&upcoming=true&",IQAAMAH_CURR_ENDPOINT:"https://my.amrayn.com/api/v1/clients/z2szzcetu9c7imrzff0lytbw6w8h3lcu/cloud-data/iqaamah?",IQAAMAH_UPCOMING_ENDPOINT:"https://my.amrayn.com/api/v1/clients/z2szzcetu9c7imrzff0lytbw6w8h3lcu/cloud-data/iqaamah-upcoming?",IQAAMAH_CURR_ENDPOINT_DEV:"https://my.amrayn.com/api/v1/clients/z2szzcetu9c7imrzff0lytbw6w8h3lcu/cloud-data/iqaamah-dev?",IQAAMAH_UPCOMING_ENDPOINT_DEV:"https://my.amrayn.com/api/v1/clients/z2szzcetu9c7imrzff0lytbw6w8h3lcu/cloud-data/upcoming-dev?",ADHAAN_ENDPOINT:"https://artifacts.taqwa.zuhd.org/data/adhaan/"}},30:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(43),o=n.n(c);n(85);t.a=function(){return r.a.createElement("div",{className:"app__pending"},r.a.createElement(o.a,{size:"100px",label:r.a.createElement("img",{src:"".concat("","/isb.png"),alt:"Loading ...",className:"app__icon"})}))}},35:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n.n(r),o=n(10);n.d(t,"b",(function(){return o.withContext}));var i=n(21);t.a=Object(i.b)("firebase")((function(e){var t=e.children,n=e.firebase,i=Object(r.useState)(!0),u=Object(a.a)(i,2),l=u[0],s=u[1],f=Object(r.useState)(null),m=Object(a.a)(f,2),d=m[0],h=m[1];Object(r.useEffect)((function(){n&&n.auth().onAuthStateChanged((function(e){h(null!==e?e:null),s(!1)}))}),[n]);return c.a.createElement(o.Provider,{value:{currentUser:d,signout:function(){return new Promise((function(e,t){s(!0),n.auth().signOut().then((function(){s(!1),e()})).catch((function(e){t(e)}))}))},signin:function(e,t){return new Promise((function(a,r){e&&t||r("Email address and/or password not provided!"),s(!0),n.auth().signInWithEmailAndPassword(e,t).then((function(){s(!1),a()})).catch((function(e){r(e)}))}))},statusPending:l}},d&&c.a.createElement("div",{style:{textAlign:"right",color:"#777"}},"[",d.email,"]"),t)}))},48:function(e,t,n){e.exports=n(89)},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return s}));var a="D-MM-YYYY",r="MM-YYYY",c=4,o="HH:mm",i="h:mm a",u="YYYY-MM-DD",l="After Khutbah",s={NAME:"Masjid al-Taqwa",FULL_NAME:"Masjid al-Taqwa, Spence ACT",LOGO:"/isb.png",EMAIL:"taqwabroadcaster@amrayn.com",PHONE:"+61433456066"}},85:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),o=n.n(c),i=n(33),u=n(4),l=n(34),s=n(15),f=n(21),m=n(35),d=function(e){var t=e.children;return r.a.createElement(f.a,null,r.a.createElement(m.a,null,t))},h=n(30),b=n(3),p=Object(s.b)("fetchError")((function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(e.fetchError),u=Object(b.a)(i,2),l=u[0],s=u[1];return Object(a.useEffect)((function(){e.fetchError!==l&&s(e.fetchError)}),[l,e.fetchError]),r.a.createElement(r.a.Fragment,null,l&&c&&r.a.createElement("div",{className:"App-error"},l,r.a.createElement("button",{className:"App-error-button",onClick:function(){o(!1)}},r.a.createElement("span",{role:"img","aria-label":"close"},"\u274c"))),l&&!c&&r.a.createElement("button",{className:"App-error-button",onClick:function(){o(!0)}},r.a.createElement("span",{role:"img","aria-label":"excl"},"\u2757")))})),O=n(17),v=(n(86),Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,106))}))),E=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,138))})),j=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,107))})),g=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,139))})),w=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,111))})),N=Object(a.lazy)((function(){return Promise.all([n.e(11),n.e(1)]).then(n.bind(null,141))})),y=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,140))})),M=Object(s.b)("ready","currentTimes","upcomingTimes","meta")((function(e){return r.a.createElement(d,null,r.a.createElement(N,e))})),I=function(){var e=Object(O.a)("dev",0,-1);return r.a.createElement(s.a,null,r.a.createElement(l.MediaQueryProvider,null,r.a.createElement("div",{style:{backgroundColor:"red",border:"3px solid #700",color:"white",position:"absolute",left:0,top:0,padding:"10px",zIndex:"1000000",display:Number(e)?"inline-block":"none"}},"Dev Mode"),r.a.createElement(i.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(h.a,null)},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:v}),r.a.createElement(u.a,{path:"/embed",component:E}),r.a.createElement(u.a,{path:"/week",component:w}),r.a.createElement(u.a,{path:"/next",component:j}),r.a.createElement(u.a,{path:"/slide",component:g}),r.a.createElement(u.a,{path:"/edit",component:M}),r.a.createElement(u.a,{path:"*",component:y})))),r.a.createElement(p,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(88);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,9,10]]]);